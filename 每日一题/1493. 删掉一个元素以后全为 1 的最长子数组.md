> Problem: [1493. 删掉一个元素以后全为 1 的最长子数组](https://leetcode.cn/problems/longest-subarray-of-1s-after-deleting-one-element/description/)

[TOC]

# 思路

> 滑动窗口。

# 解题过程

> 先检查 `r` 处是否为 `0` 以及当前窗口是否合法，若不和法便收缩，最后右移右边界即可。

# 复杂度

- 时间复杂度: $O(n)$

- 空间复杂度: $O(1)$

# Code

```C++
class Solution {

public:

    int longestSubarray(vector<int>& nums) {



        int flag = 0, n = nums.size();

        int l = 0, r = 0;

        int ret = 0;



        for (r = 0; r < n; r++) {



            if (nums[r] == 0) {



                flag ++;



            }



            while (flag > 1) {



                if (nums[l] == 0) flag --;

                l ++;



            }



            ret = max(ret, r - l);



        }



        return ret;        

    }

};
```
